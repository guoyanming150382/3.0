<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#d1{
			width: 500px;
			height: 50px;
			background: gray;
			margin: 0 auto;
			margin-top: 50px;
			position: relative;
		}
		#d2{
			width: 50px;
			height: 50px;
			background: red;
			position: absolute;
			top: 0;
			left: 0;
		}
		#d3{
			width: 180px;
			height: 500px;
			border:1px solid #000;
			margin: 50px auto;
			margin-top: 20px;
			position: relative;
			overflow: hidden;
		}
		#d4{
			width: 180px;
			font-size: 20px;
			opacity: 0;
			position: absolute;
			top: 0;
			left: 0;

		}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var od1=document.getElementById('d1');
			var od2=document.getElementById('d2');
			var od3=document.getElementById('d3');
			var od4=document.getElementById('d4');
			od2.onmousedown=function(ev){
				var ev =ev || event;
				mousex=ev.clientX-od2.offsetLeft;
				
				document.onmousemove=function(ev){
					var ev= ev || event;
					ileft=ev.clientX-mousex;
					if(ileft<0){
						ileft=0;
					}else if(ileft>(od1.offsetWidth-od2.offsetWidth)){
						ileft=od1.offsetWidth-od2.offsetWidth;
					}
					
					od2.style.left=ileft+"px";
					var bili= ileft/(od1.offsetWidth-od2.offsetWidth);
					od4.style.top=-(od4.offsetHeight-od3.offsetHeight)*bili+"px";
					od4.style.opacity=bili;
					


				}
				document.onmouseup=function(){
					document.onmousemove=null;
					document.onmouseup=null;
				}
			}
		}
	</script>
</head>
<body>
	<div id="d1">
		<div id="d2"></div>
	</div>
	<div id="d3">
		<div id="d4">
			灯る赤提灯
			祭囃子の合図
			ふわり蝶が诱い出す
			ちょいと覗いて见てごらん
			迷い込めば抜け出せない
			楽しいことがしたいなら
			おいでませ极楽浄土
			歌えや歌え心のままに
			アナタの声をさぁ闻かせて
			踊れや踊れ时を忘れ
			今宵共にああ狂い咲き
			美しく咲く花も
			いつか散りゆくもの
			それならこの一夜を
			もっと热く爱したい
			ちょいと「いいこと」いたしましょう
			これは梦か幻か
			嘘も真も无い世界
			ゆきましょう极楽浄土
			歌えや歌え心のままに
			乱れる髪息も気にせず
			踊れや踊れ时を忘れ
			今宵共にああ狂い咲き
			ちょいと「いいこと」いたしましょう
			嘘も真も无い世界
			ゆきましょう极楽浄土
			歌えや歌え心のままに
			アナタの声をさぁ闻かせて
			踊れや踊れ时を忘れ
			今宵共にああ狂い咲き
			今宵アナタと狂い咲き
		</div>
	</div>
</body>
</html>